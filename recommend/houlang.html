<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>后浪 - saowu&#39;s Blog</title>
    <link rel="shortcut icon" href="https://saowu.top/blog/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css">
    <link rel="stylesheet" href="https://saowu.top/blog/media/css/tailwind.css">
    <link rel="stylesheet" href="https://saowu.top/blog/styles/main.css">
    <link rel="alternate" type="application/atom+xml" title="后浪 - saowu&#39;s Blog - Atom Feed"
          href="https://saowu.top/blog/atom.xml">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-162711560-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());
        gtag('config', 'UA-162711560-1');
    </script>
    <link rel="canonical" href="https://saowu.top/blog/vj24Wlw0f/">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">


    <link rel="stylesheet" href="https://saowu.top/blog/media/css/prism-atom-dark.css">


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">

</head>

<body>
<div class="antialiased flex flex-col min-h-screen" id="app">
    <a href="https://saowu.top/blog"
       class="fixed top-0 left-0 mt-4 bg-black text-white dark:text-gray-700 dark:bg-yellow-50 dark:hover:bg-black dark:hover:text-white inline-flex p-2 pl-8 hover:text-gray-700 hover:bg-yellow-50 font-bold z-10 transition-fast animated fadeInLeft">
        saowu&#39;s Blog
    </a>
    <div class="max-w-4xl w-full mx-auto">
        <div class="shadow-box bg-white dark:bg-gray-600 rounded-lg pt-32 md:pt-64 px-4 md:px-8 pb-8 animated fadeIn mb-8">
            <h1 class="text-5xl font-semibold leading-normal pb-8 mb-8 border-b-8 border-gray-700">
                bilibili献给新一代的演讲《后浪》
            </h1>
            <iframe src="//player.bilibili.com/player.html?aid=412935552&bvid=BV1FV411d7u7&cid=186803402&page=1"
                    scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"
                    style="width: 100%;height: 500px"></iframe>
            <div class="markdown mb-8" style="padding-top: 20px">
                <blockquote><p>
                    在网络编程领域，Netty是Java的卓越框架。它驾驭了Java高级API的能力，并将其隐藏在一个易于使用的API之后。Netty使你可以专注于自己真正感兴趣的——你的应用程序的独一无二的价值。---《Netty实战》</p>
                </blockquote>
            </div>
            <!-- Share to Twitter, Weibo, Telegram -->
            <div class="flex items-center">
                <div class="mr-4 flex items-center">
                    <i class="ri-share-forward-line text-gray-500"></i>
                </div>
                <div class="px-4 cursor-pointer text-blue-500 hover:bg-blue-100 dark:hover:bg-gray-600 inline-flex"
                     @click="shareToTwitter">
                    <i class="ri-twitter-line"></i>
                </div>
                <div class="px-4 cursor-pointer text-red-500 hover:bg-red-100 dark:hover:bg-gray-600 inline-flex"
                     @click="shareToWeibo">
                    <i class="ri-weibo-line"></i>
                </div>
                <div class="px-4 cursor-pointer text-indigo-500 hover:bg-indigo-100 dark:hover:bg-gray-600 inline-flex"
                     @click="shareToTelegram">
                    <i class="ri-telegram-line"></i>
                </div>
            </div>
        </div>


        <footer class="py-12 text-center px-4 md:px-0" v-pre>
            Copyright 2020 saowu
        </footer>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://saowu.top/blog/media/scripts/main.js"></script>

<!-- Code Highlight -->

<script src="https://saowu.top/blog/media/prism.js"></script>
<script>
    Prism.highlightAll()
</script>


<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>
<script>
    //拿到预览框架，也就是上面的html代码
    var pswpElement = document.querySelectorAll('.pswp')[0];
    //定义图片数组变量
    var imgitems;

    /**
     * 用于显示预览界面
     * @param index 图片数组下标
     */
    function viewImg(index) {
        //其它选项这里不做过多阐述，详情见官网
        var pswpoptions = {
            index: parseInt(index, 10), // 开始幻灯片索引。0是第一张幻灯片。必须是整数，而不是字符串。
            bgOpacity: 0.7, // 背景透明度，0-1
            maxSpreadZoom: 3, // 缩放级别，不要太大
        };
        //初始化并打开PhotoSwipe，pswpElement对应上面预览框架，PhotoSwipeUI_Default为皮肤，imgitems为图片数组，pswpoptions为选项
        var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, imgitems, pswpoptions);
        gallery.init()
    }

    /**
     * 用于添加图片点击事件
     * @param img 图片元素
     * @param index 所属下标（在imgitems中的位置）
     */
    function addImgClick(img, index) {
        img.onclick = function () {
            viewImg(index)
        }
    }

    /**
     * 轮询所有图片，获取src、width、height等数据，加入imgitems，并给图片元素添加事件
     * 最好在onload中执行该方法，本站因放在最底部，所以直接初始化
     * 异步加载图片可在图片元素创建完成后调用此方法
     */
    function initImg() {
        //重置图片数组
        imgitems = [];
        //查找class:markdown 下的所有img元素并遍历
        var imgs = document.querySelectorAll('.markdown img');
        for (var i = 0; i < imgs.length; i++) {
            var img = imgs[i];
            //本站相册初始为loading图片，真实图片放在data-src
            var ds = img.getAttribute("data-src");
            //创建image对象，用于获取图片宽高
            var imgtemp = new Image();
            //判断是否存在data-src
            if (ds != null && ds.length > 0) {
                imgtemp.src = ds
            } else {
                imgtemp.src = img.src
            }
            //判断是否存在缓存
            if (imgtemp.complete) {
                var imgobj = {
                    "src": imgtemp.src,
                    "w": imgtemp.width,
                    "h": imgtemp.height,
                };
                imgitems[i] = imgobj;
                addImgClick(img, i);
            } else {
                console.log('进来了2')
                imgtemp.index = i;
                imgtemp.img = img;
                imgtemp.onload = function () {
                    var imgobj = {
                        "src": this.src,
                        "w": this.width,
                        "h": this.height,
                    };
                    //不要使用push，因为onload前后顺序会不同
                    imgitems[this.index] = imgobj
                    //添加点击事件
                    addImgClick(this.img, this.index);
                }
            }
        }
    }

    //初始化
    initImg();
</script>
</body>

</html>